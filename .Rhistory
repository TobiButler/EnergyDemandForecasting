ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(ts_data, lag = 365.25*24)
# seasonal_diff_1
test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(ts_data, 366*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_ts <- cumsum(lags + seasonal_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(ts_data, lag = 365.25*24)
# seasonal_diff_1
test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(ts_data, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_ts <- cumsum(lags + seasonal_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(ts_data, lag = 365.25*24)
# seasonal_diff_1
test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(ts_data, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_ts <- lags + seasonal_diff_1
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 1)
lags <- lags[!is.na(lags)]
reconstructed_ts <- lags + reconstructed_diff_1
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 1)
lags <- lags[!is.na(lags)]
reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 2)
lags <- lags[!is.na(lags)]
reconstructed_ts <- lags + reconstructed_diff_1
# reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1)
lags <- lags[!is.na(lags)]
reconstructed_ts <- lags + reconstructed_diff_1
# reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 1)
lags <- lags[!is.na(lags)]
reconstructed_ts <- lags + reconstructed_diff_1
# reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 1)
lags <- lags[!is.na(lags)]
reconstructed_ts <- lags + reconstructed_diff_1
# reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
# ts_data
regular_diff <- diff(ts_data)
# regular_diff
seasonal_diff_1 <- diff(regular_diff, lag = 365.25*24)
# seasonal_diff_1
# test <- ts_data[1:length(seasonal_diff_1)]
# seasonal_diff_1
# seasonal_diff_2 <- diff(ts_data, lag = 24)
# reconstructed_forecast <- cumsum(lag(ts_data, 365.25*24) + seasonal_diff_1)
# original_series_after_seasonal_diff_2 <- cumsum(lag(ts_data, seasonal_period_2) + seasonal_diff_2)
# reconstructed_ts <- cumsum(regular_diff)
# lag(test, 24*365.25)[(24*366):(24*367)]
lags <- lag(regular_diff, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_diff_1 <- lags + seasonal_diff_1
lags <- lag(reconstructed_diff_1, 1)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_ts <- cumsum(reconstructed_diff_1)
# reconstructed_ts
plot(ts_data)
plot(regular_diff)
plot(seasonal_diff_1)
# plot(seasonal_diff_2)
plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(daily_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
plot(ts_data)
# plot(regular_diff)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(daily_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
plot(ts_data)
# plot(first_diffs)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
plot(reconstructed_first_diffs)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(daily_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
plot(ts_data)
plot(first_diffs)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
plot(reconstructed_first_diffs)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
yearly_period = 24*365.25
daily_period = 24
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(yearly_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
plot(ts_data)
plot(first_diffs)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
plot(reconstructed_first_diffs)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
yearly_period = 24*365.25
daily_period = 24
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(yearly_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
plot(ts_data)
plot(first_diffs)
# plot(seasonal_diff_1)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
plot(reconstructed_first_diffs)
plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
yearly_period = 24*365.25
daily_period = 24
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(yearly_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
#
# plot(ts_data)
# plot(first_diffs)
plot(daily_diffs)
# plot(yearly_diffs)
plot(reconstructed_daily_diffs)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
# plot(reconstructed_first_diffs)
# plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
yearly_period = 24*365.25
daily_period = 24
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(daily_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
#
# plot(ts_data)
# plot(first_diffs)
plot(daily_diffs)
# plot(yearly_diffs)
plot(reconstructed_daily_diffs)
# plot(seasonal_diff_2)
# plot(reconstructed_diff_1)
# plot(reconstructed_first_diffs)
# plot(reconstructed_ts)
ts_data <- training_data[["EnergyDemand"]]
yearly_period = 24*365.25
daily_period = 24
first_diffs <- diff(ts_data)
daily_diffs <- diff(first_diffs, lag = 24)
yearly_diffs <- diff(daily_diffs, lag = 365.25*24)
# reconstruct original time series
# reconstruct daily diffs
lags <- lag(daily_diffs, 365.25*24)
lags <- lags[!is.na(lags)]
# lags
reconstructed_daily_diffs <- lags + yearly_diffs
# reconstruct first-order diffs
lags <- lag(reconstructed_daily_diffs, 24)
lags <- lags[!is.na(lags)]
# reconstructed_ts <- lags + reconstructed_diff_1
reconstructed_first_diffs <- lags + yearly_diffs
# reconstruct original time series
reconstructed_ts <- cumsum(reconstructed_first_diffs)
# reconstructed_ts
#
# plot(ts_data)
plot(first_diffs)
# plot(daily_diffs)
# plot(yearly_diffs)
# plot(reconstructed_daily_diffs)
plot(reconstructed_first_diffs)
# plot(reconstructed_ts)
library(tidyverse)
library(rmgarch)
library(MTS)
library(forecast)
library(tidyverse)
library(rmgarch)
library(MTS)
library(forecast)
training_data = read.csv(r"(Datasets/residuals.csv)", row.names = 1)
install.packages("xfun")
